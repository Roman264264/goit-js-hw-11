{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = \"https://pixabay.com/api/\" ;\nconst API_KEY = \"52318710-c8f94a6f7665a4ba5885a56a6\" ;\n\n/**\n * Виконує запит до Pixabay і повертає response.data\n * @param {string} query — пошуковий рядок\n * @returns {Promise<Object>} — об'єкт відповіді (має поле hits: [...])\n */\n\nexport function getImagesByQuery(query) {\nconst params = {\nkey: API_KEY ,\nq: query,\nimage_type: \"photo\" ,\norientation: \"horizontal\",\nsafesearch: true,\n};\nreturn axios\n.get(BASE_URL, {params})\n.then(response => {\n    if (response.data.hits.length === 0) {\n    alert(\"Sorry, there are no images matching your search query. Please try again!\");\n    }\n    return response.data;\n})\n.catch (error =>{\nreturn Promise.reject(error);\n}\n);\n};\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst galleryEl = document.querySelector(\".gallery\");\nconst loaderEl = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\n/**\n * Створює галерею з масиву зображень\n * @param {Array} images - масив об’єктів із зображеннями (Pixabay API -> hits[])\n */\nexport function createGallery(images) {\n  if (!Array.isArray(images) || images.length === 0) return;\n\n  const markup = images\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      return `\n<li class=\"gallery__item\">\n  <a class=\"gallery__link\" href=\"${largeImageURL}\">\n    <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  </a>\n  <div class=\"info\">\n    <p class=\"info-item\"><b>Likes</b> <span>${likes}</span></p>\n    <p class=\"info-item\"><b>Views</b> <span>${views}</span></p>\n    <p class=\"info-item\"><b>Comments</b> <span>${comments}</span></p>\n    <p class=\"info-item\"><b>Downloads</b> <span>${downloads}</span></p>\n  </div>\n</li>`;\n    })\n    .join(\"\");\n\n  galleryEl.insertAdjacentHTML(\"beforeend\", markup);\n\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryEl.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  if (loaderEl) loaderEl.classList.remove(\"is-hidden\");\n}\n\nexport function hideLoader() {\n  if (loaderEl) loaderEl.classList.add(\"is-hidden\");\n}","import \"izitoast/dist/css/iziToast.min.css\";\nimport iziToast from \"izitoast\";\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions.js\";\n\n\nconst formEl = document.querySelector(\".form\");\nconst inputEl = formEl.querySelector('input[name=\"search-text\"]');\n\nlet currentQuery = \"\";\n\nformEl.addEventListener(\"submit\", onSearch);\n\nfunction onSearch(evt) {\nevt.preventDefault();\n\nconst query = inputEl.value.trim();\n\nif (!query) {\niziToast.warning({\ntitle: \"Warning\",\nmessage: \"Please enter a search term.\",\nposition: \"topRight\",\n});\nreturn;\n}\n\ncurrentQuery = query;\n\nshowLoader();\nclearGallery();\n\ngetImagesByQuery(query)\n.then(data => {\n\nconst images = Array.isArray(data.hits) ? data.hits : [];\n\n\nhideLoader();\n\nif (!images.length) {\niziToast.error({\ntitle: \"No results\",\nmessage: \"Sorry, there are no images matching your search query. Please try again!\",\nposition: \"topRight\",\n});\nreturn;\n}\n\ncreateGallery(images);\n\niziToast.success({\ntitle: \"Success\",\nmessage: `Found ${images.length} images for \"${query}\".`,\nposition: \"topRight\",\n});\n})\n.catch(err => {\n\nhideLoader();\nconsole.error(\"Error in main:\", err);\niziToast.error({\ntitle: \"Error\",\nmessage: \"Something went wrong while fetching images. Check console for details.\",\nposition: \"topRight\",\n});\n});\n}\n"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","response","error","galleryEl","loaderEl","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","formEl","inputEl","onSearch","evt","iziToast","data","err"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAQT,SAASC,EAAiBC,EAAO,CACxC,MAAMC,EAAS,CACf,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACZ,EACA,OAAOE,EACN,IAAIL,EAAU,CAAC,OAAAI,CAAM,CAAC,EACtB,KAAKE,IACEA,EAAS,KAAK,KAAK,SAAW,GAClC,MAAM,0EAA0E,EAEzEA,EAAS,KACnB,EACA,MAAOC,GACD,QAAQ,OAAOA,CAAK,CAE3B,CACA,CC3BA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAMM,SAASC,EAAcC,EAAQ,CACpC,GAAI,CAAC,MAAM,QAAQA,CAAM,GAAKA,EAAO,SAAW,EAAG,OAEnD,MAAMC,EAASD,EACZ,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1D;AAAA;AAAA,mCAEsBL,CAAa;AAAA,uCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,8CAGnBC,CAAK;AAAA,8CACLC,CAAK;AAAA,iDACFC,CAAQ;AAAA,kDACPC,CAAS;AAAA;AAAA,MAGtD,EACA,KAAK,EAAE,EAEVb,EAAU,mBAAmB,YAAaM,CAAM,EAEhDJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAU,UAAY,EACxB,CAEO,SAASe,GAAa,CACvBd,GAAUA,EAAS,UAAU,OAAO,WAAW,CACrD,CAEO,SAASe,GAAa,CACvBf,GAAUA,EAAS,UAAU,IAAI,WAAW,CAClD,CC7CA,MAAMgB,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAUD,EAAO,cAAc,2BAA2B,EAIhEA,EAAO,iBAAiB,SAAUE,CAAQ,EAE1C,SAASA,EAASC,EAAK,CACvBA,EAAI,eAAc,EAElB,MAAMzB,EAAQuB,EAAQ,MAAM,OAE5B,GAAI,CAACvB,EAAO,CACZ0B,EAAS,QAAQ,CACjB,MAAO,UACP,QAAS,8BACT,SAAU,UACV,CAAC,EACD,MACA,CAIAN,IACAD,IAEApB,EAAiBC,CAAK,EACrB,KAAK2B,GAAQ,CAEd,MAAMjB,EAAS,MAAM,QAAQiB,EAAK,IAAI,EAAIA,EAAK,KAAO,GAKtD,GAFAN,IAEI,CAACX,EAAO,OAAQ,CACpBgB,EAAS,MAAM,CACf,MAAO,aACP,QAAS,2EACT,SAAU,UACV,CAAC,EACD,MACA,CAEAjB,EAAcC,CAAM,EAEpBgB,EAAS,QAAQ,CACjB,MAAO,UACP,QAAS,SAAShB,EAAO,MAAM,gBAAgBV,CAAK,KACpD,SAAU,UACV,CAAC,CACD,CAAC,EACA,MAAM4B,GAAO,CAEdP,IACA,QAAQ,MAAM,iBAAkBO,CAAG,EACnCF,EAAS,MAAM,CACf,MAAO,QACP,QAAS,yEACT,SAAU,UACV,CAAC,CACD,CAAC,CACD"}