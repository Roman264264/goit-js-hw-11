{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n\nconst BASE_URL = \"https://pixabay.com/api/\" ;\nconst API_KEY = \"52318710-c8f94a6f7665a4ba5885a56a6\" ;\n\nexport function getImagesByQuery(query) {\nconst params = {\nkey: API_KEY ,\nq: query,\nimage_type: \"photo\" ,\norientation: \"horizontal\",\nsafesearch: true,\n};\nreturn axios\n.get(BASE_URL, { params })\n.then(response => response.data)\n.catch(error => Promise.reject(error));\n}\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst galleryEl = document.querySelector(\".gallery\");\nconst loaderEl = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\n\nexport function createGallery(images) {\n  if (!Array.isArray(images) || images.length === 0) return;\n\n  const markup = images\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      return `\n<li class=\"gallery__item\">\n  <a class=\"gallery__link\" href=\"${largeImageURL}\">\n    <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  </a>\n  <div class=\"info\">\n    <p class=\"info-item\"><b>Likes</b> <span>${likes}</span></p>\n    <p class=\"info-item\"><b>Views</b> <span>${views}</span></p>\n    <p class=\"info-item\"><b>Comments</b> <span>${comments}</span></p>\n    <p class=\"info-item\"><b>Downloads</b> <span>${downloads}</span></p>\n  </div>\n</li>`;\n    })\n    .join(\"\");\n\n  galleryEl.insertAdjacentHTML(\"beforeend\", markup);\n\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryEl.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  if (loaderEl) loaderEl.classList.remove(\"is-hidden\");\n}\n\nexport function hideLoader() {\n  if (loaderEl) loaderEl.classList.add(\"is-hidden\");\n}","import \"izitoast/dist/css/iziToast.min.css\";\nimport iziToast from \"izitoast\";\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions.js\";\n\n\nconst formEl = document.querySelector('.form');\nconst inputEl = formEl.querySelector('input[name=\"search-text\"]');\n\nformEl.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\nevt.preventDefault();\n\nconst query = inputEl.value.trim();\n\nif (!query) {\n    iziToast.warning({\n    message: 'Please enter a search query!',\n    position: 'topRight',\n    backgroundColor: '#ef5350',\n    });\n    return;\n}\n\nclearGallery();\nshowLoader();\n\ngetImagesByQuery(query)\n    .then(data => {\n    if (data.hits.length === 0) {\n        iziToast.info({\n        message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        backgroundColor: '#ef5350',\n        });\n        return;\n    }\n\n    createGallery(data.hits);\n\n    iziToast.success({\n        title: 'Success',\n        message: `Found ${data.totalHits} images.`,\n        position: 'topRight',\n    });\n    })\n    .catch(() => {\n    iziToast.error({\n        message:\n        'Something went wrong while fetching images. Please try again later.',\n        position: 'topRight',\n        backgroundColor: '#ef5350',\n});\n    })\n    .finally(() => {\nhideLoader();\n    });\n}"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","response","error","galleryEl","loaderEl","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","formEl","inputEl","onSearch","evt","iziToast","data"],"mappings":"owBAGA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACxC,MAAMC,EAAS,CACf,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACZ,EACA,OAAOE,EACN,IAAIL,EAAU,CAAE,OAAAI,EAAQ,EACxB,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,QAAQ,OAAOA,CAAK,CAAC,CACrC,CCdA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAGM,SAASC,EAAcC,EAAQ,CACpC,GAAI,CAAC,MAAM,QAAQA,CAAM,GAAKA,EAAO,SAAW,EAAG,OAEnD,MAAMC,EAASD,EACZ,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1D;AAAA;AAAA,mCAEsBL,CAAa;AAAA,uCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,8CAGnBC,CAAK;AAAA,8CACLC,CAAK;AAAA,iDACFC,CAAQ;AAAA,kDACPC,CAAS;AAAA;AAAA,MAGtD,EACA,KAAK,EAAE,EAEVb,EAAU,mBAAmB,YAAaM,CAAM,EAEhDJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAU,UAAY,EACxB,CAEO,SAASe,GAAa,CACvBd,GAAUA,EAAS,UAAU,OAAO,WAAW,CACrD,CAEO,SAASe,GAAa,CACvBf,GAAUA,EAAS,UAAU,IAAI,WAAW,CAClD,CC1CA,MAAMgB,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAUD,EAAO,cAAc,2BAA2B,EAEhEA,EAAO,iBAAiB,SAAUE,CAAQ,EAE1C,SAASA,EAASC,EAAK,CACvBA,EAAI,eAAc,EAElB,MAAMzB,EAAQuB,EAAQ,MAAM,OAE5B,GAAI,CAACvB,EAAO,CACR0B,EAAS,QAAQ,CACjB,QAAS,+BACT,SAAU,WACV,gBAAiB,SACrB,CAAK,EACD,MACJ,CAEAP,IACAC,IAEArB,EAAiBC,CAAK,EACjB,KAAK2B,GAAQ,CACd,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,KAAK,CACd,QACI,2EACJ,SAAU,WACV,gBAAiB,SACzB,CAAS,EACD,MACH,CAEDjB,EAAckB,EAAK,IAAI,EAEvBD,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,SAASC,EAAK,SAAS,WAChC,SAAU,UAClB,CAAK,CACL,CAAK,EACA,MAAM,IAAM,CACbD,EAAS,MAAM,CACX,QACA,sEACA,SAAU,WACV,gBAAiB,SACzB,CAAC,CACD,CAAK,EACA,QAAQ,IAAM,CACnBL,GACA,CAAK,CACL"}